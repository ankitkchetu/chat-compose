(this.webpackJsonpfinalflow=this.webpackJsonpfinalflow||[]).push([[2],{52:function(e,t,a){"use strict";a.r(t),a.d(t,"carousel",(function(){return p}));var s=a(7),i=a(26),n=a(8),l=a(9),c=a(13),d=a(11),r=a(10),o=a(0),h=a(18),m=(a(37),a(1)),p=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={element:e.element,updateNodeCb:e.updateNodeCb,clicked:"dataprop",nameArray:e.nameArray,rowChip:e.element&&e.element.data.rowChip||[{image:"",title:"",description:"",postback_text:""}],theme:"light",language:"javascript",isEditorReady:!1},s.updateText1=s.updateText1.bind(Object(c.a)(s)),s}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.state.element||(this.setState({element:e.element,updateNodeCb:e.updateNodeCb,clicked:"dataprop",nameArray:e.nameArray,rowChip:e.element&&e.element.data.rowChip||[{image:"",title:"",description:"",postback_text:""}]}),console.log("nextProps",e))}},{key:"componentWillUpdate",value:function(e,t){e.element&&this.state.element&&e.element.id!==this.state.element.id&&this.setState({element:e.element,updateNodeCb:e.updateNodeCb,clicked:"dataprop",nameArray:e.nameArray,rowChip:e.element&&e.element.data.rowChip||[{image:"",title:"",description:"",postback_text:""}]}),console.log("nextPropswill",e,t,this.state)}},{key:"handleInputChange",value:function(e,t){var a=e.target,n=a.name,l=a.value,c=Object(i.a)(this.state.rowChip);if(c[t][n]=l,this.setState({rowChip:c}),"suggestionchip"===this.state.element.data.subtype||"carousel"===this.state.element.data.subtype){var d={rowChip:c},r=Object.assign({},this.state.element.data,d);this.setState({element:Object(s.a)(Object(s.a)({},this.state.element),{},{data:Object(s.a)({},r)})})}}},{key:"handleRemoveClick",value:function(e){var t=Object(i.a)(this.state.rowChip);t.splice(e,1),this.setState({rowChip:t})}},{key:"handleAddClick",value:function(){this.setState({rowChip:[].concat(Object(i.a)(this.state.rowChip),[{image:"",title:"",description:"",postback_text:""}])})}},{key:"_handleClick",value:function(e){this.setState({clicked:e.target.id})}},{key:"_handleClickClose",value:function(e){console.log("clled"),this.setState({clicked:"dataprop",element:null})}},{key:"handlerChange",value:function(e){if(document.getElementById("propwrap").classList.add("editMark"),"id_label"===e.target.id)this.setState({element:Object(s.a)(Object(s.a)({},this.state.element),{},{label:e.target.value,data:Object(s.a)(Object(s.a)({},this.state.element.data),{},{label:e.target.value})})});else{var t={};"var_name"===e.target.id?t[e.target.id]=e.target.value.toLowerCase().replace(/[^A-Za-z_]+/g,""):t[e.target.id]=e.target.value;var a=Object.assign({},this.state.element.data,t);this.setState({element:Object(s.a)(Object(s.a)({},this.state.element),{},{data:Object(s.a)({},a)})})}}},{key:"updateText1",value:function(e){if(this.state.element){if(console.log("called"),console.log("inside",this.state.element),this.state.nameArray.name.has(this.state.element.data.var_name)&&this.state.nameArray.name.get(this.state.element.data.var_name)!==this.state.element.id)return Object(h.confirmAlert)({title:"Alert",message:"You Can't use same name. As this Name Already used in "+this.state.nameArray.name.get(this.state.element.data.var_name),buttons:[{label:"Ok"}]}),!0;var t=this.props.element;console.log("ankit",t.id);var a=this.state.element,s=this.state.nameArray.id.get(this.state.element.id);this.state.nameArray.id.delete(this.state.element.id),this.state.nameArray.name.delete(s),this.state.nameArray.name.set(this.state.element.data.var_name,this.state.element.id),this.state.nameArray.id.set(this.state.element.id,this.state.element.data.var_name),this.setState({element:a}),this.state.updateNodeCb(t,a,"node"===t.data.type?0:1)}else console.log("empty",this.props);return this.setState({element:null}),document.getElementById("propwrap").classList.remove("editMark"),!0}},{key:"handleChangeSpace",value:function(e){" "===e.key&&e.preventDefault()}},{key:"handleChange",value:function(e){var t={};t[e.target.id]=e.target.value;var a=Object.assign({},this.state.element.data,t);console.log(a),this.setState({element:Object(s.a)(Object(s.a)({},this.state.element),{},{data:Object(s.a)({},a)})})}},{key:"handleEditorDidMount",value:function(){this.setState({isEditorReady:!0})}},{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{id:"propwrap",className:this.state.element&&this.state.element.data?"itson":"",children:Object(m.jsxs)("div",{id:"properties",className:this.state.element&&this.state.element.data?"expanded":"",children:[Object(m.jsx)("div",{id:"close",onClick:this._handleClickClose.bind(this),children:Object(m.jsx)("img",{src:"assets/close.svg",alt:"close"})}),Object(m.jsx)("p",{id:"header2",children:"Properties"}),Object(m.jsxs)("div",{id:"propswitch",children:[Object(m.jsx)("div",{id:"dataprop",className:"dataprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Data"}),Object(m.jsx)("div",{id:"alertprop",className:"alertprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Configuration"}),Object(m.jsx)("div",{id:"logsprop",className:"logsprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Logs"})]}),Object(m.jsx)("div",{className:"dataprop"===this.state.clicked?"proplist":"proplist hidden",children:this.state.element&&this.state.element.data&&"carousel"===this.state.element.data.subtype&&this.state.rowChip.map((function(t,a){return Object(m.jsxs)("div",{className:"box",children:[e.state.element&&e.state.element.data&&"carousel"===e.state.element.data.subtype&&Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{className:"inputlabel",children:"Image"}),Object(m.jsx)("input",{name:"image",className:"dropme",placeholder:"Enter Image url",value:t.image,onChange:function(t){return e.handleInputChange(t,a)}}),""===t.image?Object(m.jsx)("div",{className:"thumbnail"}):Object(m.jsx)("div",{className:"thumbnail",children:Object(m.jsx)("img",{src:t.image,alt:""})})]}),Object(m.jsx)("p",{className:"inputlabel",children:"Display Title"}),Object(m.jsx)("input",{className:"dropme",name:"title",placeholder:"Enter Title Text  Max 25 Char",value:t.title,maxLength:"25",autoComplete:"off",onChange:function(t){return e.handleInputChange(t,a)}}),Object(m.jsx)("p",{className:"inputlabel",children:"Description"}),Object(m.jsx)("input",{className:"dropme",name:"description",placeholder:"Enter description Text  Max 25 Char",value:t.description,autoComplete:"off",maxLength:"25",onKeyDown:e.handleChangeSpace.bind(e),onChange:function(t){return e.handleInputChange(t,a)}}),Object(m.jsx)("p",{className:"inputlabel",children:"Postback Text"}),Object(m.jsx)("input",{className:"dropme",name:"postback_text",placeholder:"Enter Postback Text  Max 25 Char",value:t.postback_text,autoComplete:"off",maxLength:"25",onKeyDown:e.handleChangeSpace.bind(e),onChange:function(t){return e.handleInputChange(t,a)}}),Object(m.jsxs)("div",{className:"btn-box",children:[1!==e.state.rowChip.length&&Object(m.jsx)("button",{className:"mr10",onClick:function(){return e.handleRemoveClick(a)},children:"Remove"}),e.state.rowChip.length-1===a&&e.state.rowChip.length<=8&&Object(m.jsx)("button",{onClick:e.handleAddClick.bind(e),children:"Add"})]})]},"card_"+a)}))}),Object(m.jsxs)("div",{className:"alertprop"===this.state.clicked?"proplist":"proplist hidden",children:[Object(m.jsx)("p",{className:"inputlabel",children:"Name"}),Object(m.jsx)("input",{className:"dropme",id:"var_name",type:"text",value:this.state.element&&this.state.element.data&&this.state.element.data.var_name,onChange:this.handlerChange.bind(this)}),Object(m.jsx)("div",{className:"checkus",children:Object(m.jsx)("p",{})})]}),Object(m.jsx)("div",{className:"logsprop"===this.state.clicked?"proplist":"proplist hidden",children:Object(m.jsx)("div",{})}),Object(m.jsx)("div",{id:"divisionthing"}),Object(m.jsx)("div",{id:"Saveblock",onClick:this.updateText1.bind(this),children:"Save"})]})})}}]),a}(o.Component);t.default=p}}]);
//# sourceMappingURL=2.701d14f1.chunk.js.map